<!Doctype HTML>
<html><head><title>Ani Guy</title><link rel="stylesheet" type="text/css" href="Styles/default.css"></head><body>

<div class = mainArea>
	<div class = mainText>
			<hr>
			<h1>Ganer</h1>
			<hr>
	</div>
</div>
<div class="slideholderholder" id="slhh">
	<div class="slideholder"><img src = "Uncropped Slides/-1" id="image1" class="slides"></div>
	<div class="slideholder"><img src = "Uncropped Slides/-1" id="image2" class="slides"></div>
	<div class="slideholder"><img src = "Uncropped Slides/-1" id="image3" class="slides"></div>
	<div class="slideholder"><img src = "Uncropped Slides/0" id="image4" class="slides"></div>
</div>

<div id="topbar">
	<div id="buttonholder">
		<button class="topButtons">About</button><!--
		--><button class="topButtons">Programming</button><!--
		--><button class="topButtons">Videos</button><!--
		--><button class="topButtons">Games</button><!--
		--><button class="topButtons">Others</button>
	</div>
</div>
</body>
</html>

<script>
var im1 = -3, im2 = -2, im3 = -1, im4 = 0;
var slidesToggle = true;
var imgnums = 85;
moveSlidesUp();
var __moveTheSlides__ = setInterval(moveSlidesUp, 2500);

function moveSlidesUp(){
	moveslides();
	setTimeout(function(){
		document.getElementById("slhh").style.transition = "bottom 0s";
		document.getElementById("slhh").style.bottom = "-75%"; slideshow();
		}, 2000)
}

function moveslides(){
		document.getElementById("slhh").style.transition = "bottom 2s";
		document.getElementById("slhh").style.bottom = "-25%";
}

function slideshow(){
	im1 = overflowAdd(im1);
	im2 = overflowAdd(im2);
	im4 = overflowAdd(im4);
	im3 = overflowAdd(im3);
	for (var i = 1; i < 5; i++) {
		switch (i) {
			case 1:
				replaceImage(i, im1);
				break;
			case 2:
				replaceImage(i, im2);
				break;
			case 3:
				replaceImage(i, im3);
				break;
			case 4:
				replaceImage(i, im4);
				break;
			default:
				replaceImage(i, im1);
		}
	}
}

function replaceImage(imnum, index){
	document.getElementById("image"+imnum.toString()).src = "Uncropped Slides/" + index.toString();
}

function overflowAdd(inval){
	inval ++;
	var outval = inval % imgnums;
	return outval;
}


//Wallpaper Engine Stuff

var icueAvailable = false;

window.wallpaperPluginListener = {
	onPluginLoaded: function (name, version) {
        if (name === 'cue') {
            icueAvailable = true;
						setupDevices();
        }
    }
}
function setupDevices() {
    if (!icueAvailable) {
        return;
    }

    icueDevices = [];
    // Ask for the total amount of devices
    window.cue.getDeviceCount(function (deviceCount) {
        for (var d = 0; d < deviceCount; ++d) {
            (function (d) {
                // Get device info on each device
                window.cue.getDeviceInfo(d, function (deviceInfo) {
                    // Put the ID on the device, useful later on
                    deviceInfo.id = d;
                    // Store all our devices in an array
                    icueDevices.push(deviceInfo);
                });
            }(d));
        }
    });
}
var ledIndex = 0;
var colorIndex = 0;
var colors = [
    {r: 255, g: 0, b: 0},
    {r: 0, g: 255, b: 0},
    {r: 0, g: 0, b: 255},
];

function onTimerTick() {
    // Everything here is called 30 times per second this is where our LED logic will take place
		var keyboard = null;
		icueDevices.forEach(function (device) {
		    if (device.type === 'CDT_Keyboard') {
		        keyboard = device;
		    }
		});
		// If there are no LED positions, get them first!
		if (!keyboard.ledPositions) {
    	window.cue.getLedPositionsByDeviceIndex(keyboard.id, function (ledPositions) {
        keyboard.ledPositions = ledPositions;
    });
    return;
		}
		// If no keyboard is found, stop for now, iCUE is not ready yet.
		if (!keyboard) {
		    return;
		}
		var color = colors[colorIndex];
var ledUpdate = {ledId: keyboard.ledPositions[ledIndex].ledId, r: color.r, g: color.g, b: color.b};
// You can send more than one LED update at once, in this example we'll stick to just one however
window.cue.setLedsColorsAsync([ledUpdate]);
    // At the end of the frame, update the variables for the next frame, fiurst advance our LED index
    ledIndex++;
    if (ledIndex > keyboard.ledPositions.length - 1) {
        // Start over and advance our color index when all LEDs are colored
        ledIndex = 0;
        colorIndex++;
        if (colorIndex > 2) {
            colorIndex = 0;
        }
    }
}

// Run at 30 frames per second
setInterval(onTimerTick, 1000 / 30);

</script>
